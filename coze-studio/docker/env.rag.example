# FastGPTRAG微服务环境变量配置示例
# 复制此文件为 .env.rag 并填入实际配置值

# ========== RAG服务基础配置 ==========
RAG_AUTH_TOKEN=your-rag-auth-token-here
RAG_JWT_SECRET=your-rag-jwt-secret-here
RAG_ENCRYPT_KEY=your-rag-encrypt-key-here
RAG_PORT=3001
RAG_NODE_ENV=production

# ========== 数据库配置 ==========
# MongoDB配置（外部数据库）
RAG_MONGO_URL=mongodb://root:mr9hhq7d@dbconn.sealosgzg.site:41640/?directConnection=true
RAG_MONGO_LOG_URL=mongodb://root:mr9hhq7d@dbconn.sealosgzg.site:41640/?directConnection=true
# 本地MongoDB配置（如果使用docker内部数据库）
RAG_MONGO_USERNAME=ragadmin
RAG_MONGO_PASSWORD=your-mongo-password-here

# Redis配置（外部Redis）
RAG_REDIS_URL=redis://default:password@127.0.0.1:6379
# 本地Redis配置（如果使用docker内部Redis）
RAG_REDIS_PASSWORD=your-redis-password-here

# PostgreSQL + pgvector配置（外部数据库）
RAG_PG_URL=postgresql://postgres:7pggtb2t@dbconn.sealosgzg.site:34249/?directConnection=true
# 本地PostgreSQL配置（如果使用docker内部数据库）
RAG_POSTGRES_PASSWORD=your-postgres-password-here

# ========== AI模型配置 ==========
# OneAPI配置（兼容OpenAI API）
ONEAPI_URL=https://dashscope.aliyuncs.com/compatible-mode/v1
ONEAPI_KEY=sk-74cded99f47c4ac7ab9a858e3190b89b

# 默认模型配置
DEFAULT_VECTOR_MODEL=text-embedding-v3
DEFAULT_LLM_MODEL=qwen-max
DEFAULT_VLM_MODEL=glm-4v-flash

# 阿里云DashScope API配置（直接API方式）
ALIBABA_API_KEY=sk-74cded99f47c4ac7ab9a858e3190b89b
ALIBABA_API_URL=https://dashscope.aliyuncs.com/compatible-mode/v1

# 智谱AI GLM API配置（直接API方式）
ZHIPU_API_KEY=df34450f101b4f2b888e250d86891281.HKxTLHYeamPNs7sj
ZHIPU_API_URL=https://open.bigmodel.cn/api/paas/v4

# ========== Coze集成配置 ==========
COZE_BACKEND_URL=http://coze-backend:8080
COZE_FRONTEND_URL=http://localhost:3000

# ========== 可选：Milvus配置 ==========
MILVUS_URL=localhost:19530
MILVUS_USERNAME=
MILVUS_PASSWORD=

# ========== 文件存储配置 ==========
# 本地存储路径
RAG_UPLOAD_PATH=./uploads
# 最大文件大小 (MB)
RAG_MAX_FILE_SIZE=100

# ========== 队列和处理配置 ==========
RAG_VECTOR_MAX_PROCESS=15
RAG_QA_MAX_PROCESS=15
RAG_TOKEN_WORKERS=30

# ========== 向量搜索配置 ==========
RAG_HNSW_EF_SEARCH=100

# ========== 团队和用户配置 ==========
RAG_ROOT_USER_EMAIL=admin@fastgpt.rag
RAG_ROOT_USER_PASSWORD=admin123456
RAG_DEFAULT_TEAM_NAME=FastGPT RAG Team

# ========== 可选：其他AI服务配置 ==========
# Azure OpenAI
AZURE_API_KEY=
AZURE_ENDPOINT=
AZURE_API_VERSION=2023-12-01-preview

# Anthropic Claude
ANTHROPIC_API_KEY=

# Google Gemini
GOOGLE_API_KEY=

# 百度文心一言
QIANFAN_ACCESS_KEY=
QIANFAN_SECRET_KEY=

# ========== 存储配置 ==========
# 文件存储类型: local, s3, oss, cos
STORAGE_TYPE=local

# S3配置（如果使用S3）
S3_BUCKET=
S3_REGION=
S3_ACCESS_KEY=
S3_SECRET_KEY=
S3_ENDPOINT=

# 阿里云OSS配置
OSS_BUCKET=
OSS_REGION=
OSS_ACCESS_KEY=
OSS_SECRET_KEY=
OSS_ENDPOINT=

# ========== 监控配置 ==========
# Prometheus监控
ENABLE_PROMETHEUS=true
PROMETHEUS_PORT=9090

# 日志级别
LOG_LEVEL=info

# ========== 安全配置 ==========
# CORS配置
CORS_ORIGIN=http://localhost:3000,http://localhost:8080

# 速率限制
RATE_LIMIT_MAX=1000
RATE_LIMIT_WINDOW=3600

# ========== 性能配置 ==========
# 并发配置
MAX_CONCURRENT_REQUESTS=100
REQUEST_TIMEOUT=30s

# 缓存配置
ENABLE_CACHE=true
CACHE_TTL=300

# 队列配置
QUEUE_CONCURRENCY=10
QUEUE_MAX_RETRY=3
