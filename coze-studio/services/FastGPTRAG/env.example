# FastGPT RAG 完整配置文件示例
# 复制此文件为 .env 并填入你的配置

# 服务配置
PORT=3001
NODE_ENV=development

# MongoDB 配置
MONGO_URL=mongodb://root:mr9hhq7d@dbconn.sealosgzg.site:41640/?directConnection=true
MONGO_LOG_URL=mongodb://root:mr9hhq7d@dbconn.sealosgzg.site:41640/?directConnection=true

# Redis 配置 (用于队列和缓存)
REDIS_URL=redis://default:password@127.0.0.1:6379

# 向量数据库配置 (选择一种)
# PostgreSQL + pgvector
PG_URL=postgresql://postgres:7pggtb2t@dbconn.sealosgzg.site:34249/?directConnection=true
# 或者 Milvus
MILVUS_URL=localhost:19530
MILVUS_USERNAME=
MILVUS_PASSWORD=

# ==================== AI 模型配置 ====================

# OneAPI 地址 (兼容 OpenAI API) - 统一LLM接口
ONEAPI_URL=https://dashscope.aliyuncs.com/compatible-mode/v1
ONEAPI_KEY=sk-74cded99f47c4ac7ab9a858e3190b89b

# 默认模型配置
DEFAULT_VECTOR_MODEL=text-embedding-v3    # 向量模型
DEFAULT_LLM_MODEL=qwen-max                 # 大语言模型  
DEFAULT_VLM_MODEL=THUDM/GLM-4.1V-9B-Thinking  # 视觉语言模型（硅基流动）

# ==================== 直接API配置 ====================

# OpenAI API 配置 (用于VLM功能)
OPENAI_API_KEY=sk-your-openai-key-here
OPENAI_BASE_URL=https://api.openai.com/v1

# 阿里云 DashScope API 配置
ALIBABA_API_KEY=sk-74cded99f47c4ac7ab9a858e3190b89b
ALIBABA_API_URL=https://dashscope.aliyuncs.com/compatible-mode/v1
DASHSCOPE_API_KEY=sk-74cded99f47c4ac7ab9a858e3190b89b

# 智谱AI GLM API 配置
ZHIPU_API_KEY=df34450f101b4f2b888e250d86891281.HKxTLHYeamPNs7sj
ZHIPU_API_URL=https://open.bigmodel.cn/api/paas/v4

# Claude API 配置 (用于高级VLM功能)
CLAUDE_API_KEY=your-claude-key-here

# Google Gemini API 配置
GEMINI_API_KEY=your-gemini-key-here

# ==================== 搜索增强配置 ====================

# SiliconFlow API (用于BGE重排序和VLM模型)
SILICONFLOW_API_KEY=sk-hodcejkxaydxrmajxkyboptytmtzykkwmxymhjozfhcpgomp
SILICONFLOW_API_URL=https://api.siliconflow.cn/v1


# Cohere API (用于Cohere重排序)
COHERE_API_KEY=your-cohere-key-here

# ==================== 文件存储配置 ====================

# 本地存储路径
UPLOAD_PATH=./uploads
# 最大文件大小 (MB)
MAX_FILE_SIZE=100

# ==================== 安全配置 ====================

JWT_SECRET=your-jwt-secret-here-change-in-production
ENCRYPT_KEY=your-encrypt-key-here-change-in-production

# ==================== 日志配置 ====================

LOG_LEVEL=info
LOG_FILE_PATH=./logs
# 详细日志配置 (开发调试用)
FORCE_VERBOSE_LOGGING=false
VERBOSE_LOGGING=false

# ==================== 队列配置 ====================

# 向量训练队列最大并发数
VECTOR_MAX_PROCESS=15
# QA训练队列最大并发数  
QA_MAX_PROCESS=15
# Token处理工作进程数
TOKEN_WORKERS=30

# ==================== 向量搜索配置 ====================

# HNSW搜索参数
HNSW_EF_SEARCH=100

# ==================== 团队和用户配置 ====================

# 管理员账号
ROOT_USER_EMAIL=admin@fastgpt.rag
ROOT_USER_PASSWORD=admin123456
# 默认团队名称
DEFAULT_TEAM_NAME=FastGPT RAG Team

# ==================== 功能开关配置 ====================

# 启用图片处理功能 (需要VLM配置)
ENABLE_IMAGE_PROCESSING=true
# 启用搜索重排序功能 (需要Rerank API配置)
ENABLE_RERANK=true
# 启用段落优化功能 (需要LLM配置)
ENABLE_PARAGRAPH_OPTIMIZATION=true

# ==================== 性能优化配置 ====================

# API请求超时时间 (毫秒)
API_TIMEOUT=60000
# 连接池大小
CONNECTION_POOL_SIZE=10
# 缓存TTL (秒)
CACHE_TTL=3600

# ==================== 开发配置 ====================

# 开发模式下的额外配置
# 是否启用API文档
ENABLE_API_DOCS=true
# 是否启用性能监控
ENABLE_PERFORMANCE_MONITORING=true
# 是否启用请求日志
ENABLE_REQUEST_LOGGING=true
